"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[835],{6835:(F,g,o)=>{o.r(g),o.d(g,{ArticleEditModule:()=>z});var d=o(6814),a=o(2394),t=o(5879),p=o(4221),m=o(7808),r=o(4440),c=o(7398),E=o(6306),A=o(2096),f=o(2181),x=o(9397),y=o(4664),M=o(7081),P=o(2572),T=o(8180),h=o(6233),u=o(8904),v=o(6992),I=o(8091);function J(n,s){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"art-form-ui",2),t.NdJ("save",function(l){t.CHM(i);const C=t.oxw(2);return t.KtG(C.onEdit(l))}),t.qZA(),t.BQk()}if(2&n){const i=t.oxw().ngIf;t.xp6(1),t.Q6J("action","edit")("articleToEdit",i.article)("isLoading",i.isLoading)("isSubmitting",i.isSubmitting)}}function L(n,s){if(1&n&&t._UZ(0,"mc-backend-error-messages",3),2&n){const i=t.oxw().ngIf;t.Q6J("errors",i.error)}}function Q(n,s){1&n&&t._UZ(0,"mc-loading")}function S(n,s){if(1&n&&(t.ynx(0),t.YNc(1,J,2,4,"ng-container",0),t.YNc(2,L,1,1,"mc-backend-error-messages",1),t.YNc(3,Q,1,0,"mc-loading",0),t.BQk()),2&n){const i=s.ngIf;t.xp6(1),t.Q6J("ngIf",i.article),t.xp6(1),t.Q6J("ngIf",i.error),t.xp6(1),t.Q6J("ngIf",i.isLoading||i.isSubmitting)}}const N=[{path:"",component:(()=>{class n{constructor(){this._store=(0,t.f3M)(p.yh),this._route=(0,t.f3M)(a.gz),this._router=(0,t.f3M)(a.F0),this._item$=this._route.queryParamMap.pipe((0,c.U)(i=>{const e=i.get("slug");if(!e)throw new TypeError("slug not found");return e}),(0,E.K)(i=>(this._router.navigate(["/home"]),(0,A.of)(i))),(0,f.h)(i=>"string"==typeof i),(0,x.b)(i=>this._store.dispatch(m.o.getArticle({slug:i}))),(0,y.w)(()=>this._store.select(r.q7)),(0,M.d)({bufferSize:1,refCount:!0})),this.data$=(0,P.a)({article:this._item$,error:this._store.select(r.uD),isLoading:this._store.select(r.Lo),isSubmitting:this._store.select(r.hb)})}onEdit(i){this.data$.pipe((0,T.q)(1),(0,c.U)(e=>e.article),(0,f.h)(e=>!!e),(0,c.U)(e=>e.slug)).subscribe(e=>{this._store.dispatch(m.o.editArticle({slug:e,data:i}))})}static#t=this.\u0275fac=function(e){return new(e||n)};static#i=this.\u0275cmp=t.Xpm({type:n,selectors:[["art-edit"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"errors",4,"ngIf"],[3,"action","articleToEdit","isLoading","isSubmitting","save"],[3,"errors"]],template:function(e,l){1&e&&(t.YNc(0,S,4,3,"ng-container",0),t.ALo(1,"ngrxPush")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,l.data$))},dependencies:[d.O5,h.E,u.a,v.N,I.fM],encapsulation:2,changeDetection:0})}return n})()}];let B=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#i=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(N),a.Bz]})}return n})(),z=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#i=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.ez,B,h.E,u.a,v.N]})}return n})()}}]);