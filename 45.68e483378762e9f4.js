"use strict";(self.webpackChunkmediumclone_angular=self.webpackChunkmediumclone_angular||[]).push([[45],{45:(z,h,o)=>{o.r(h),o.d(h,{ProfileDetailModule:()=>j});var t=o(5879),n=o(2394),$=o(4221),m=o(5619),c=o(7398),C=o(6306),L=o(2096),f=o(2181),Z=o(9397),T=o(4664),E=o(7081),v=o(2572),y=o(559),u=o(1445),M=o(1582),A=o(5921);function D(i,l){1&i&&t._UZ(0,"app-follow-profile",5)}function J(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"prf-profile-ui",2),t.NdJ("authorPosts",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onAuthorPosts())})("favoritedPosts",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.onFavoritedPosts())}),t.YNc(2,D,1,0,"app-follow-profile",3),t._UZ(3,"mc-feed",4),t.qZA(),t.BQk()}if(2&i){const e=l.ngIf;t.xp6(1),t.Q6J("userProfile",e.profile)("isCurrentUserProfile",e.isCurrentUserProfile)("isLoading",e.isLoading)("activeLink",e.activeLink)("theme",e.theme),t.xp6(1),t.Q6J("ngIf",!e.isCurrentUserProfile),t.xp6(1),t.Q6J("apiUrl",e.apiUrl)}}let g=(()=>{class i{constructor(){this._route=(0,t.f3M)(n.gz),this._router=(0,t.f3M)(n.F0),this._store=(0,t.f3M)($.yh),this._prefsService=(0,t.f3M)(A.y),this._apiUrlEmitter$=new m.X("author"),this.apiUrl$=this._apiUrlEmitter$.pipe((0,c.U)(e=>{const r="favorites"===e,s=this._route.snapshot.paramMap.get("username");return r?`/articles?favorited=${s}`:`/articles?author=${s}`})),this._item$=this._route.paramMap.pipe((0,c.U)(e=>{const r=e.get("username");if(!r)throw new TypeError("username not found");return r}),(0,C.K)(e=>(this._router.navigate(["/home"]),(0,L.of)(e))),(0,f.h)(e=>"string"==typeof e),(0,Z.b)(e=>this._store.dispatch(y.e.getProfile({username:e}))),(0,T.w)(()=>this._store.select(u.NI)),(0,E.d)({bufferSize:1,refCount:!0})),this.data$=(0,v.a)({profile:this._item$.pipe((0,f.h)(e=>!!e)),error:this._store.select(u.k3),isLoading:this._store.select(u.jU),isCurrentUserProfile:(0,v.a)({currentUser:this._store.select(M.HF).pipe((0,f.h)(e=>!!e)),profile:this._item$.pipe((0,f.h)(e=>!!e))}).pipe((0,c.U)(e=>e.currentUser.username===e.profile.username)),apiUrl:this.apiUrl$,activeLink:this._apiUrlEmitter$,theme:this._prefsService.appThemes$})}onAuthorPosts(){this._apiUrlEmitter$.next("author")}onFavoritedPosts(){this._apiUrlEmitter$.next("favorites")}ngOnDestroy(){this._apiUrlEmitter$.complete()}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["prf-profile-detail"]],decls:3,vars:3,consts:[[1,"container"],[4,"ngIf"],[3,"userProfile","isCurrentUserProfile","isLoading","activeLink","theme","authorPosts","favoritedPosts"],["followProfile","",4,"ngIf"],["feed","",3,"apiUrl"],["followProfile",""]],template:function(r,s){1&r&&(t.TgZ(0,"div",0),t.YNc(1,J,4,7,"ng-container",1),t.ALo(2,"ngrxPush"),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,s.data$)))},encapsulation:2,changeDetection:0})}return i})();var a=o(6814);const _=[{path:"",pathMatch:"full",component:g}];let F=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[n.Bz.forChild(_),n.Bz]})}return i})();var p=o(8091),d=o(9515);function w(i,l){if(1&i&&(t.TgZ(0,"a",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&i){const e=t.oxw().ngrxLet;t.xp6(2),t.hij(" \xa0 ",e.buttons.editProfile," ")}}const B=function(i){return{backgroundColor:i}},P=function(i){return{active:i}};function Q(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.ALo(2,"ngrxPush"),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"h4"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA(),t.TgZ(11,"div"),t.Hsn(12),t.YNc(13,w,3,1,"a",7),t.qZA()()()()(),t.TgZ(14,"div",3)(15,"div",8)(16,"div",5)(17,"div",9)(18,"ul",10)(19,"li",11)(20,"a",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.authorPostsEmitter$.emit())}),t._uU(21),t.qZA()(),t.TgZ(22,"li",11)(23,"a",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.favoritedPostsEmitter$.emit())}),t._uU(24),t.qZA()()()(),t.Hsn(25,1),t.qZA()()()()}if(2&i){const e=l.ngrxLet,r=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(11,B,"dark"===t.lcZ(2,9,r.theme$)?"rgb(81, 62, 104)":void 0)),t.xp6(5),t.Q6J("src",r.userProfile.image,t.LSH),t.xp6(2),t.Oqu(r.userProfile.username),t.xp6(2),t.Oqu(r.userProfile.bio),t.xp6(3),t.Q6J("ngIf",r.isCurrentUserProfile),t.xp6(7),t.Q6J("ngClass",t.VKq(13,P,"author"===r.activeLink)),t.xp6(1),t.hij(" ",e.tabs.myPosts," "),t.xp6(2),t.Q6J("ngClass",t.VKq(15,P,"favorites"===r.activeLink)),t.xp6(1),t.hij(" ",e.tabs.favPosts," ")}}const S=[[["","followProfile",""]],[["","feed",""]]],H=["[followProfile]","[feed]"];let x=(()=>{class i{constructor(){this._themesEmitter$=new m.X(null),this.isCurrentUserProfile=!1,this.isLoading=!1,this.activeLink="author",this.theme=null,this.authorPostsEmitter$=new t.vpe,this.favoritedPostsEmitter$=new t.vpe,this.theme$=this._themesEmitter$.asObservable()}ngOnInit(){if(!this.userProfile)throw new Error("Must provide userProfile");this.theme&&this._themesEmitter$.next(this.theme)}ngOnChanges(e){e.theme&&this._themesEmitter$.next(e.theme.currentValue)}ngOnDestroy(){this._themesEmitter$.complete()}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["prf-profile-ui"]],inputs:{userProfile:"userProfile",isCurrentUserProfile:"isCurrentUserProfile",isLoading:"isLoading",activeLink:"activeLink",theme:"theme"},outputs:{authorPostsEmitter$:"authorPosts",favoritedPostsEmitter$:"favoritedPosts"},standalone:!0,features:[t.TTD,t.jDz],ngContentSelectors:H,decls:2,vars:3,consts:[["class","profile-page",4,"ngrxLet"],[1,"profile-page"],[1,"user-info",3,"ngStyle"],[1,"container"],[1,"row"],[1,"col-xs-12","col-md-10","offset-md-1"],["alt","profilePic",1,"user-img",3,"src"],["class","btn btn-sm btn-outline-success","routerLink","/settings",4,"ngIf"],[1,"row","mt-2"],[1,"articles-toggler"],[1,"nav","nav-underline","outline-active"],[1,"nav-item"],["type","button",1,"nav-link",3,"ngClass","click"],["routerLink","/settings",1,"btn","btn-sm","btn-outline-success"],[1,"ion-gear-b"]],template:function(r,s){1&r&&(t.F$t(S),t.YNc(0,Q,26,17,"div",0),t.ALo(1,"translate")),2&r&&t.Q6J("ngrxLet",t.lcZ(1,1,"profile"))},dependencies:[a.ez,a.mk,a.O5,a.PC,n.Bz,n.rH,p.fM,p.eJ,d.aw,d.X$],encapsulation:2,changeDetection:0})}return i})();var U=o(4867),I=o(9340),O=o(4172);let j=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[F,a.ez,x,U.e,I.D]})}return i})();t.B6R(g,[a.O5,x,U.e,O.G],[p.fM])}}]);